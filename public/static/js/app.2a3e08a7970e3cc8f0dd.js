webpackJsonp([1],Array(34).concat([function(t,e,n){function a(t){n(96)}var i=n(0)(n(51),n(118),a,"data-v-2dca936b",null);t.exports=i.exports},function(t,e,n){"use strict";var a=n(4),i=n(122),s=n(107),o=n.n(s),r=n(105),c=n.n(r),l=n(111),u=n.n(l),d=n(110),f=n.n(d);a.a.use(i.a),e.a=new i.a({mode:"history",routes:[{path:"/",name:"Home",component:o.a},{path:"/user/:userId",name:"UserPins",component:u.a},{path:"/about",name:"About",component:c.a},{path:"*",name:"notfound",component:f.a}]})},function(t,e,n){"use strict";var a=n(4),i=n(2),s=n(41),o=n(43),r=n(42);a.a.use(i.b),e.a=new i.b.Store({state:{auth:{isLoggedIn:!1,user:void 0},flash:{show:!1,message:"Loading...",type:"success"},pins:{list:[],targetUser:void 0},overlay:{active:!1}},actions:s.a,mutations:o.a,getters:r.a})},function(t,e,n){function a(t){n(97)}var i=n(0)(n(44),n(119),a,null,null);t.exports=i.exports},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),i=n(39),s=n(38),o=n(37),r=n.n(o),c=n(35),l=n(36);a.a.config.productionTip=!1,a.a.use(i.a),a.a.use(s.a),new a.a({el:"#app",router:c.a,store:l.a,template:"<App/>",components:{App:r.a}})},function(t,e,n){"use strict";var a=n(57),i=n.n(a),s=n(23),o=n.n(s),r=n(4),c=function(t,e){var n=t.commit,a=e.message,i=e.type,s=e.duration;n("showMsg",{message:a,type:i}),s&&setTimeout(function(){n("hideMsg")},s)},l=function(t){var e=t.commit;c({commit:e},{message:"Loading...",type:"info",duration:0})},u=function(t){var e=t.commit;c({commit:e},{message:"Error has occured, please try again later",type:"danger",duration:0})},d=function(t){var e=t.commit;r.a.http.get("/api/auth/logout").then(function(t){var n=t.data;n.success?(e("resetUser"),c({commit:e},{message:"Successfully logged out.",type:"success",duration:5e3})):(u({commit:e}),console.error(n.message))}).catch(function(t){u({commit:e}),console.error(t)})},f=function(t){var e=t.commit;r.a.http.get("/api/auth/profile").then(function(t){var n=t.data;n.success?e("updateUser",n.user):e("resetUser")}).catch(function(t){u({commit:e}),console.error(t)})},p=function(t){var e=t.commit;l({commit:e}),r.a.http.get("/api/pin/all").then(function(t){var n=t.data;e("hideMsg"),n.success?e("updatePins",n.pins):(u({commit:e}),console.error(n.message))}).catch(function(t){u({commit:e}),console.error(t)})},m=function(t,e){var n=t.commit;l({commit:n}),r.a.http.post("/api/pin/new",e).then(function(t){var e=t.data;e.success?(n("addPin",e.pin),n("toggleOverlay"),c({commit:n},{message:"Pin successfully added.",type:"success",duration:5e3})):c({commit:n},{message:e.message,type:"danger",duration:0})}).catch(function(t){u({commit:n}),console.error(t)})},v=function(t,e){var n=t.commit;l({commit:n}),r.a.http.delete("/api/pin/"+e).then(function(t){var a=t.data;a.success?(n("deletePin",e),c({commit:n},{message:"Pin successfully deleted.",type:"success",duration:5e3})):c({commit:n},{message:a.message,type:"danger",duration:0})}).catch(function(t){u({commit:n}),console.error(t)})},g=function(t,e){var n=t.commit,a=e.pin,s=e.userId;l({commit:n}),r.a.http.put("/api/pin/update",o()({},a,{likedBy:[].concat(i()(a.likedBy),[s])})).then(function(t){var e=t.data;e.success?(n("updatePin",e.pin),c({commit:n},{message:"Pin successfully liked.",type:"success",duration:5e3})):c({commit:n},{message:e.message,type:"danger",duration:0})}).catch(function(t){u({commit:n}),console.error(t)})},h=function(t,e){var n=t.commit,a=e.pin,i=e.userId;l({commit:n});var s=a.likedBy.indexOf(i);-1!==s?(a.likedBy.splice(s,1),r.a.http.put("/api/pin/update",a).then(function(t){var e=t.data;e.success?(n("updatePin",e.pin),c({commit:n},{message:"Pin successfully unliked.",type:"success",duration:5e3})):c({commit:n},{message:e.message,type:"danger",duration:0})}).catch(function(t){u({commit:n}),console.error(t)})):c({commit:n},{message:"Index not found!",type:"danger",duration:0})};e.a={flashMsg:c,flashLoading:l,flashErr:u,logoutUser:d,updateUser:f,fetchPins:p,addPin:m,deletePin:v,likePin:g,unlikePin:h}},function(t,e,n){"use strict";var a=function(t){return t.pins.list},i=function(t){return t.pins.list.filter(function(e){return e.owner._id===t.pins.targetUser})},s=function(t){return t.overlay.active},o=function(t){return t.auth.isLoggedIn},r=function(t){return t.auth.user},c=function(t){return t.flash};e.a={allPins:a,targetUserPins:i,overlayActive:s,isLoggedIn:o,profile:r,flashMessage:c}},function(t,e,n){"use strict";var a=function(t,e){var n=e.message,a=e.type;t.flash.show=!0,t.flash.message=n,t.flash.type=a},i=function(t){t.flash.show=!1},s=function(t){t.overlay.active=!t.overlay.active},o=function(t,e){t.auth.user=e,t.auth.isLoggedIn=!0},r=function(t){t.auth.user=void 0,t.auth.isLoggedIn=!1},c=function(t,e){t.pins.list=e},l=function(t,e){t.pins.list.unshift(e)},u=function(t,e){t.pins.list=t.pins.list.filter(function(t){return t._id!==e})},d=function(t,e){t.pins.list=t.pins.list.map(function(t){return t._id===e._id?e:t})},f=function(t,e){t.pins.targetUser=e};e.a={showMsg:a,hideMsg:i,toggleOverlay:s,updateUser:o,resetUser:r,updatePins:c,addPin:l,deletePin:u,updatePin:d,updateTargetUser:f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(108),i=n.n(a),s=n(109),o=n.n(s),r=n(106),c=n.n(r);e.default={name:"app",created:function(){this.$store.dispatch("updateUser"),this.$store.dispatch("fetchPins")},components:{Navbar:i.a,NewPin:o.a,FlashMessage:c.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"About"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),i=n.n(a),s=n(2);e.default={name:"FlashMessage",computed:i()({},n.i(s.a)(["flashMessage"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),i=n(34),s=n.n(i);e.default={name:"Home",data:function(){return{}},computed:n.i(a.a)(["allPins"]),components:{PinList:s.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2);e.default={name:"Navbar",computed:n.i(a.a)(["isLoggedIn","profile"]),data:function(){return{isDropdownActive:!1,mobileToggle:!1}},methods:{toggleDropdown:function(){this.isDropdownActive=!this.isDropdownActive},toggleOverlay:function(){this.$store.commit("toggleOverlay")},toggleMobile:function(){this.mobileToggle=!this.mobileToggle},handleLogout:function(){this.$store.dispatch("logoutUser")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2);e.default={name:"PinOverlay",computed:n.i(a.a)(["overlayActive","allPins"]),data:function(){return{title:"",imageURL:""}},watch:{allPins:function(){this.title="",this.imageURL=""}},methods:{toggleOverlay:function(){this.$store.commit("toggleOverlay")},handleErrImg:function(){this.$refs.previewImg.src="/static/missing.gif"},handleSubmit:function(){""!==this.title&&""!==this.imageURL&&this.$store.dispatch("addPin",{title:this.title,imageURL:this.imageURL})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"NotFound"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2);e.default={name:"PinList",props:["pins"],computed:n.i(a.a)(["profile","isLoggedIn"]),data:function(){return{}},methods:{handleErrImg:function(t){this.$refs.pinImg[t].src="/static/missing.gif"},handleDelete:function(t){this.$store.dispatch("deletePin",t._id)},handleLike:function(t){this.isLoggedIn?-1===t.likedBy.indexOf(this.profile._id)?this.$store.dispatch("likePin",{pin:t,userId:this.profile._id}):this.$store.dispatch("unlikePin",{pin:t,userId:this.profile._id}):window.location.href="/api/auth/login"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),i=n(34),s=n.n(i);e.default={name:"UserPins",computed:n.i(a.a)(["targetUserPins"]),watch:{$route:"updateUser"},mounted:function(){this.updateUser()},components:{PinList:s.a},methods:{updateUser:function(){this.$store.commit("updateTargetUser",this.$route.params.userId)}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,n){function a(t){n(94)}var i=n(0)(n(45),n(116),a,"data-v-24f9e625",null);t.exports=i.exports},function(t,e,n){function a(t){n(98)}var i=n(0)(n(46),n(120),a,"data-v-821c6ae2",null);t.exports=i.exports},function(t,e,n){function a(t){n(91)}var i=n(0)(n(47),n(113),a,"data-v-07c1b177",null);t.exports=i.exports},function(t,e,n){function a(t){n(93)}var i=n(0)(n(48),n(115),a,"data-v-1afc7828",null);t.exports=i.exports},function(t,e,n){function a(t){n(95)}var i=n(0)(n(49),n(117),a,"data-v-292d9d6d",null);t.exports=i.exports},function(t,e,n){function a(t){n(92)}var i=n(0)(n(50),n(114),a,"data-v-0b4d7d07",null);t.exports=i.exports},function(t,e,n){function a(t){n(99)}var i=n(0)(n(52),n(121),a,"data-v-9c1528fe",null);t.exports=i.exports},function(t,e,n){var a=n(0)(n(53),null,null,null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("pin-list",{attrs:{pins:t.allPins}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("404")]),t._v(" "),n("h3",[t._v("Page not found")]),t._v(" "),n("p",[t._v("\n    The resource you're looking for is unavailable. Would you like to go to the "),n("router-link",{attrs:{to:"/"}},[t._v("Main Page")]),t._v(" instead?\n  ")],1),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-inverse"},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-header"},[n("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.toggleMobile(e)}}},[n("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),t._v(" "),n("span",{staticClass:"icon-bar"}),t._v(" "),n("span",{staticClass:"icon-bar"}),t._v(" "),n("span",{staticClass:"icon-bar"})]),t._v(" "),n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[n("i",{staticClass:"fa fa-thumb-tack"}),t._v(" PinIt\n      ")])],1),t._v(" "),n("div",{staticClass:"navbar-collapse",class:{active:t.mobileToggle}},[n("ul",{staticClass:"nav navbar-nav"},[n("li",[n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1)]),t._v(" "),n("ul",{staticClass:"nav navbar-nav navbar-right"},[t.isLoggedIn?t._e():n("li",[t._m(0)]),t._v(" "),t.isLoggedIn?n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.toggleOverlay(e)}}},[t._v("New Pin")])]):t._e(),t._v(" "),t.isLoggedIn?n("li",[n("router-link",{attrs:{to:"/user/"+t.profile._id}},[t._v("My Pins")])],1):t._e(),t._v(" "),t.isLoggedIn?n("li",{staticClass:"dropdown",class:{open:t.isDropdownActive}},[n("a",{staticClass:"dropdown-toggle",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.toggleDropdown(e)}}},[n("img",{staticClass:"profile-thumb",attrs:{src:t.profile.profileImageURL,alt:t.profile.username}}),t._v(t._s(t.profile.displayName)+" "),n("span",{staticClass:"caret"})]),t._v(" "),n("ul",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.handleLogout(e)}}},[t._v("Logout")])])])]):t._e()])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/api/auth/login"}},[n("i",{staticClass:"fa fa-twitter"}),t._v(" Login")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("About")]),t._v(" "),n("p",[n("i",{staticClass:"fa fa-thumb-tack"}),t._v("PinIt is a Pinterest clone.\n  ")]),t._v(" "),n("p",[t._v("\n    Powered by NodeJS, MongoDB/Mongoose and Express.\n  ")]),t._v(" "),n("p",[t._v("\n    Made by "),n("a",{attrs:{href:"//iadw.in"}},[t._v("iAdwin")]),t._v(" for "),n("a",{attrs:{href:"//www.freecodecamp.com/challenges/build-a-pinterest-clone"}},[n("i",{staticClass:"fa fa-free-code-camp"}),t._v("freeCodeCamp")]),t._v(".\n  ")]),t._v(" "),n("p",[n("a",{attrs:{href:"//github.com/adwinying/nodeapp-pinit"}},[n("i",{staticClass:"fa fa-github"}),t._v(" Github source")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"overlay"}},[t.overlayActive?n("div",{staticClass:"pin-overlay-wrapper"},[n("div",{staticClass:"container"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body"},[n("div",{staticClass:"modal-close",on:{click:t.toggleOverlay}},[n("i",{staticClass:"fa fa-times"})]),t._v(" "),n("h3",[t._v("New Pin")]),t._v(" "),n("img",{ref:"previewImg",staticClass:"preview-img",attrs:{src:t.imageURL,alt:"Preview"},on:{error:t.handleErrImg}}),t._v(" "),n("form",{on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Pin Title")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label",attrs:{for:"imageURL"}},[t._v("Image URL")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.imageURL,expression:"imageURL"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.imageURL},on:{input:function(e){e.target.composing||(t.imageURL=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary",class:""===t.title||""===t.imageURL?"disabled":"",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.handleSubmit(e)}}},[t._v("\n                  Submit\n                ")])])])])])])])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[0===t.pins.length?n("div",[t._m(0)]):t._e(),t._v(" "),n("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"transition-duration":"0.3s","item-selector":".item"}},t._l(t.pins,function(e,a){return n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],staticClass:"item col-xs-12 col-sm-4 col-md-3"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-body"},[n("img",{ref:"pinImg",refInFor:!0,staticClass:"pin-img",attrs:{src:e.imageURL,alt:e.title},on:{error:function(e){t.handleErrImg(a)}}}),t._v(" "),n("h5",{staticClass:"text-center"},[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"panel-footer"},[n("router-link",{attrs:{to:"/user/"+e.owner._id}},[n("img",{staticClass:"profile-img",attrs:{src:e.owner.profileImageURL,alt:e.owner.username}})]),t._v(" "),n("div",{staticClass:"panel-ctrl"},[t.isLoggedIn&&e.owner._id===t.profile._id?n("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(n){n.preventDefault(),t.handleDelete(e)}}},[n("i",{staticClass:"fa fa-trash"})]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-sm btn-primary",class:t.profile&&-1!==e.likedBy.indexOf(t.profile._id)?"disabled":"",on:{click:function(n){n.preventDefault(),t.handleLike(e)}}},[n("i",{staticClass:"fa fa-star"}),t._v(" "+t._s(e.likedBy.length)+"\n            ")])])],1)])])}))])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("i",[t._v("No Pins Found")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("navbar"),t._v(" "),n("new-pin"),t._v(" "),n("flash-message"),t._v(" "),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.flashMessage.show?n("div",{class:"active alert alert-"+t.flashMessage.type},[n("p",["Loading..."===t.flashMessage.message?n("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"}):t._e(),t._v("\n      "+t._s(t.flashMessage.message)+"\n    ")])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("pin-list",{attrs:{pins:t.targetUserPins}})],1)},staticRenderFns:[]}},,,,function(t,e){}]),[40]);
//# sourceMappingURL=app.2a3e08a7970e3cc8f0dd.js.map